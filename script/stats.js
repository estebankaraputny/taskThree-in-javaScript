const data = {
  "currentDate":"2022-01-01",
  "events":[
      {
          "_id":"628d7b61c2126f956d8fe950",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas7.jpg",
          "name":"Collectivities Party",
          "date":"2021-12-12",
          "description":"Enjoy your favourite dishes, from different countries, in a unique event for the whole family.",
          "category":"Food Fair",
          "place":"Room A",
          "capacity":"45000",
          "assistance":"42756",
          "price":5,
          "__v":0
      },
      {
          "_id":"628d7b79c2126f956d8fe953",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo5.jpg",
          "name":"Jurassic Park",
          "date":"2021-11-02",
          "description":"Let's go meet the biggest dinosaurs in the paleontology museum.",
          "category":"Museum",
          "place":"Field",
          "capacity":"82000",
          "assistance":"65892",
          "price":15,
          "__v":0
      },
      {
          "_id":"628d7bb0c2126f956d8fe955",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces1.jpg",
          "name":"Halloween Night","date":"2022-02-12",
          "description":"Come with your scariest costume and win incredible prizes.",
          "category":"Costume Party",
          "place":"Room C",
          "capacity":"12000",
          "estimate":"9000",
          "price":12,
          "__v":0
      },
      {
          "_id":"628d7bb9c2126f956d8fe957",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica1.jpg",
          "name":"Metallica in concert",
          "date":"2022-01-22",
          "description":"The only concert of the most emblematic band in the world.",
          "category":"Music Concert",
          "place":"Room A",
          "capacity":"138000",
          "estimate":"138000",
          "price":150,
          "__v":0
      },
      {
          "_id":"628d7bd3c2126f956d8fe95a",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton3.jpg",
          "name":"10K 4 life",
          "date":"2021-03-01",
          "description":"Come and exercise, improve your health and lifestyle.",
          "category":"Race",
          "place":"Football field",
          "capacity":"30000",
          "assistance":"25698",
          "price":3,
          "__v":0
      },
      {
          "_id":"628d7bf3c2126f956d8fe95c",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros7.jpg",
          "name":"School's book fair",
          "date":"2022-10-15",
          "description":"Bring your unused school book and take the one you need.",
          "category":"Book Exchange",
          "place":"Room D1",
          "capacity":"150000",
          "estimate":"123286",
          "price":1,
          "__v":0
      },
      {
          "_id":"628d7c0dc2126f956d8fe95e",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Cine7.jpg",
          "name":"Avengers",
          "date":"2022-10-15",
          "description":"Marvel's Avengers Premier in 3d, the start of an epic saga with your favourite superheroes.",
          "category":"Cinema",
          "place":"Room D1",
          "capacity":"9000",
          "estimate":"9000",
          "price":250,
          "__v":0
      },
      {
          "_id":"628d7c1ac2126f956d8fe960",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Cine1.jpg",
          "name":"Spiderman",
          "date":"2022-9-15",
          "description":"Spiderman's Premier in 3d, the start of an epic saga with your favourite superheroes.",
          "category":"Cinema",
          "place":"Room D1",
          "capacity":"9000",
          "estimate":"9000",
          "price":250,
          "__v":0
      },
      {
          "_id":"628d7c27c2126f956d8fe962",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Cine3.jpg",
          "name":"Batman",
          "date":"2021-3-11",
          "description":"Come see Batman fight crime in Gotham City.",
          "category":"Cinema",
          "place":"Room D1",
          "capacity":"11000",
          "assistance":"9300",
          "price":225,
          "__v":0
      },
      {
          "_id":"628d7c30c2126f956d8fe964",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Cine4.jpg",
          "name":"Fredy",
          "date":"2021-3-11",
          "description":"The most terrifying character comes back.",
          "category":"Cinema",
          "place":"Room D2",
          "capacity":"11000",
          "assistance":"10300",
          "price":225,
          "__v":0
      },
      {
          "_id":"628d7c42c2126f956d8fe966",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas2.jpg",
          "name":"Korean style",
          "date":"2021-08-12",
          "description":"Enjoy the best Korean dishes, with international chefs and awesome events.",
          "category":"Food Fair",
          "place":"Room A",
          "capacity":"45000",
          "assistance":"42756",
          "price":10,
          "__v":0
      },
      {
          "_id":"628d7c59c2126f956d8fe968",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas3.jpg",
          "name":"Japanese style",
          "date":"2021-06-15",
          "description":"Enjoy the best Japanese dishes, with international chefs and awesome events.",
          "category":"Food Fair",
          "place":"Room A","capacity":"45000","assistance":"42756",
          "price":10,
          "__v":0
      },
      {
          "_id":"628d7c66c2126f956d8fe96a",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas4.jpg",
          "name":"Straight from Middle East","date":"2021-10-12",
          "description":"We gather Middle East's collectivities in a unique event to enjoy in family.",
          "category":"Food Fair",
          "place":"Room B",
          "capacity":"45000",
          "assistance":"43000",
          "price":70,
          "__v":0
      },
      {
          "_id":"628d7c6fc2126f956d8fe96c",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas5.jpg",
          "name":"Take away",
          "date":"2021-10-12",
          "description":"Are you a fast food lover? We have the event for you, were we gather the best fast food chains.",
          "category":"Food Fair",
          "place":"Room C",
          "capacity":"45000",
          "assistance":"27000",
          "price":30,
          "__v":0
      },
      {
          "_id":"628d7c7cc2126f956d8fe96e",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas6.jpg",
          "name":"Italian style","date":"2021-10-12",
          "description":"Enjoy the best dishes in this awesome culinary event.",
          "category":"Food Fair",
          "place":"Room A2",
          "capacity":"55000",
          "assistance":"48000",
          "price":40,
          "__v":0
      },
      {
          "_id":"628d7c87c2126f956d8fe970",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros1.jpg",
          "name":"Fantasy books",
          "date":"2022-3-13",
          "description":"The best literary works of a captivating genre full of mythical characters.",
          "category":"Book Exchange",
          "place":"Room D4",
          "capacity":"150000",
          "estimate":"123286",
          "price":3,
          "__v":0
      },
      {
          "_id":"628d7c94c2126f956d8fe972",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros2.jpg",
          "name":"University textbook exchange",
          "date":"2022-11-09",
          "description":"Bring your unused textbooks and take one that you need.",
          "category":"Book Exchange",
          "place":"Room D1",
          "capacity":"170000",
          "estimate":"143288",
          "price":1,
          "__v":0
      },
      {
          "_id":"628d7c9bc2126f956d8fe974",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros3.jpg",
          "name":"Just for your kitchen",
          "date":"2021-11-09",
          "description":"If you're a gastronomy lover come get the cookbook that best suits your taste and your family's.",
          "category":"Book Exchange",
          "place":"Room D6",
          "capacity":"130000",
          "assistance":"90000",
          "price":100,
          "__v":0
      },
      {
          "_id":"628d7ca6c2126f956d8fe976",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros4.jpg",
          "name":"BestSeller",
          "date":"2021-10-06",
          "description":"Get to know the best works of literature and take the one that catches you the most.",
          "category":"Book Exchange",
          "place":"Room D6",
          "capacity":"140000",
          "assistance":"110000",
          "price":200,
          "__v":0
      },
      {
          "_id":"628d7cb1c2126f956d8fe978",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros5.jpg",
          "name":"Horror and mistery novels",
          "date":"2021-10-06",
          "description":"Come get novels from some of the most acclaimed literature genres.",
          "category":"Book Exchange",
          "place":"Room D1",
          "capacity":"14000",
          "assistance":"13000",
          "price":80,
          "__v":0
      },
      {
          "_id":"628d7cbac2126f956d8fe97a",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Libros6.jpg",
          "name":"Just Harry",
          "date":"2021-10-06",
          "description":"If you're a Potterhead you'll love this unique convention held in the city.",
          "category":"Book Exchange",
          "place":"Room D6",
          "capacity":"140000",
          "assistance":"129000",
          "price":300,
          "__v":0
      },
      {
          "_id":"628d7cc6c2126f956d8fe97c",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces2.jpg",
          "name":"Comicon",
          "date":"2021-02-12",
          "description":"For comic lovers, all your favourite characters gathered in one place.",
          "category":"Costume Party",
          "place":"Room C",
          "capacity":"120000",
          "assistance":"110000",
          "price":54,
          "__v":0
      },
      {
          "_id":"628d7cd3c2126f956d8fe97e",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces3.jpg",
          "name":"Comicon 2022",
          "date":"2022-02-12",
          "description":"If you enjoyed last year's, you'll love this one's.",
          "category":"Costume Party",
          "place":"Room D",
          "capacity":"220000",
          "estimate":"220000",
          "price":104,
          "__v":0
      },
      {
          "_id":"628d7cdcc2126f956d8fe980",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces4.jpg",
          "name":"Spring Day",
          "date":"2022-09-21",
          "description":"Come celebrate spring dressed as your favourite character.",
          "category":"Costume Party",
          "place":"Room H",
          "capacity":"220000",
          "estimate":"220000",
          "price":104,
          "__v":0
      },
      {
          "_id":"628d7ce7c2126f956d8fe982",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces5.jpg",
          "name":"Cultures",
          "date":"2021-06-21",
          "description":"A unique cultural event awaits you.",
          "category":"Costume Party",
          "place":"Room G",
          "capacity":"220000",
          "assistance":"185000",
          "price":200,
          "__v":0
      },
      {
          "_id":"628d7cefc2126f956d8fe984",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces6.jpg",
          "name":"For the little ones",
          "date":"2021-09-23",
          "description":"Bring your kid with his favourite costume.",
          "category":"Costume Party",
          "place":"Room G",
          "capacity":"10000",
          "assistance":"9327",
          "price":2,
          "__v":0
      },
      {
          "_id":"628d7d9bc2126f956d8fe987",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces7.jpg",
          "name":"Epic party",
          "date":"2021-09-23",
          "description":"Come dressed as a pirate, firefighter, or a nurse, and we'll see who wins the big prize.",
          "category":"Costume Party",
          "place":"Room H",
          "capacity":"2000",
          "assistance":"1856",
          "price":160,
          "__v":0
      },
      {
          "_id":"628d7daac2126f956d8fe989",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Fiestadedisfraces8.jpg",
          "name":"Halloween 2022",
          "date":"2022-10-31",
          "description":"Trick or treat? Come along with your scariest costume.",
          "category":"Costume Party",
          "place":"Room F",
          "capacity":"20000",
          "estimate":"20000",
          "price":160,
          "__v":0
      },
      {
          "_id":"628d7dc1c2126f956d8fe98b",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton1.jpg",
          "name":"15K NY",
          "date":"2021-03-01",
          "description":"We'll be raising funds for hospitals and medical care in this unique event held in The Big Apple.",
          "category":"Race",
          "place":"New York",
          "capacity":"3000000",
          "assistance":"2569800",
          "price":3,
          "__v":0
      },
      {
          "_id":"628d7dd2c2126f956d8fe98d",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton4.jpg",
          "name":"Buenos Aires 2022",
          "date":"2022-03-01",
          "description":"Come join us in this marathon's 3ed edition.",
          "category":"Race",
          "place":"Buenos Aires",
          "capacity":"300000",
          "estimate":"300000",
          "price":2,
          "__v":0
      },
      {
          "_id":"628d7de7c2126f956d8fe98f",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton5.jpg",
          "name":"New York 2022",
          "date":"2022-03-01",
          "description":"We'll be expecting you in the 6th edition across the Big Apple.",
          "category":"Race",
          "place":"New York",
          "capacity":"5000000",
          "estimate":"5000000",
          "price":2,
          "__v":0
      },
      {
          "_id":"628d7df5c2126f956d8fe991",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton6.jpg",
          "name":"For Life 2nd Edition",
          "date":"2022-03-01",
          "description":"If you enjoyed las year's edition you'll love this one.",
          "category":"Race",
          "place":"Cordoba",
          "capacity":"200000",
          "estimate":"200000",
          "price":1,
          "__v":0
      },
      {
          "_id":"628d7dfcc2126f956d8fe993",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton7.jpg",
          "name":"Cancer Marathon",
          "date":"2021-03-01",
          "description":"We'll be raising funds for the cancer patients.",
          "category":"Race",
          "place":"Mar del Plata",
          "capacity":"1800000",
          "assistance":"1800000",
          "price":1,
          "__v":0
      },
      {
          "_id":"628d7e1cc2126f956d8fe995",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica2.jpg",
          "name":"Electronic Fest",
          "date":"2021-01-22",
          "description":"The best national and international DJs gathered in one place.",
          "category":"Music Concert",
          "place":"Room A",
          "capacity":"138000",
          "assistance":"110300",
          "price":250,
          "__v":0
      },
      {
          "_id":"628d7e27c2126f956d8fe997",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica3.jpg",
          "name":"Popular Music",
          "date":"2021-05-22",
          "description":"The best popular hits gathered in a unique event for the hole family to enjoy.",
          "category":"Music Concert",
          "place":"Room C",
          "capacity":"238000",
          "assistance":"183300",
          "price":40,
          "__v":0
      },
      {
          "_id":"628d7e3bc2126f956d8fe999",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica4.jpg",
          "name":"Classics",
          "date":"2021-05-22",
          "description":"Come enjoy the best classics.",
          "category":"Music Concert",
          "place":"Room B",
          "capacity":"38000",
          "assistance":"13300",
          "price":20,
          "__v":0
      },
      {
          "_id":"628d7e47c2126f956d8fe99b",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica5.jpg",
          "name":"Opera",
          "date":"2022-05-22",
          "description":"We gathered the best opera singers just for you.",
          "category":"Music Concert",
          "place":"Room F",
          "capacity":"138000",
          "estimate":"138000",
          "price":1500,
          "__v":0
      },
      {
          "_id":"628d7e53c2126f956d8fe99d",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica6.jpg",
          "name":"Reggaeton 2022",
          "date":"2022-06-23",
          "description":"Get ready to dance to the rhythm of the best bands.",
          "category":"Music Concert",
          "place":"Room G",
          "capacity":"2138000",
          "estimate":"2138000",
          "price":300,
          "__v":0
      },
      {
          "_id":"628d7e5bc2126f956d8fe99f",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica7.jpg",
          "name":"Metallica in Buenos Aires",
          "date":"2021-06-23",
          "description":"We'll be having three opportunities for you to come listen to this 80s mythical band's hits.",
          "category":"Music Concert",
          "place":"Buenos Aires",
          "capacity":"138000",
          "assistance":"137560",
          "price":1300,
          "__v":0
      },
      {
          "_id":"628d7e65c2126f956d8fe9a1",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Conciertodemusica8.jpg",
          "name":"San Francisco's Symphony",
          "date":"2021-06-23",
          "description":"You can't miss the opportunity to come see one of the world's best symphonies live.",
          "category":"Music Concert",
          "place":"Buenos Aires",
          "capacity":"38000",
          "assistance":"36560",
          "price":1300,
          "__v":0
      },
      {
          "_id":"628d7e72c2126f956d8fe9a3",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo1.jpg",
          "name":"Parisian Museum",
          "date":"2022-11-02",
          "description":"A unique tour in the city of lights, get to know one of the most iconic places.",
          "category":"Museum",
          "place":"Paris",
          "capacity":"8200",
          "estimate":"8200",
          "price":3500,
          "__v":0
      },
      {
          "_id":"628d7e80c2126f956d8fe9a5",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo2.jpg",
          "name":"Abstract Art",
          "date":"2022-11-02",
          "description":"An exhibition of selected artists explores the diverse approaches to abstraction developed since 1950.",
          "category":"Museum",
          "place":"Buenos Aires",
          "capacity":"1200",
          "estimate":"1200",
          "price":1500,
          "__v":0
      },
      {
          "_id":"628d7e88c2126f956d8fe9a7",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo3.jpg",
          "name":"Buenos Aires' Museum 2022",
          "date":"2022-11-02",
          "description":"Unique works by international and national artists are waiting for you in this year's exhibition.",
          "category":"Museum",
          "place":"Buenos Aires",
          "capacity":"800",
          "estimate":"800",
          "price":700,
          "__v":0
      },
      {
          "_id":"628d7ea7c2126f956d8fe9aa",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo4.jpg",
          "name":"Buenos Aires' Museum",
          "date":"2021-11-02",
          "description":"Come enjoy the best wokrs by our local artists.",
          "category":"Museum",
          "place":"Buenos Aires",
          "capacity":"600",
          "assistance":"550",
          "price":500,
          "__v":0
      },
      {
          "_id":"628d7ebdc2126f956d8fe9ac",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo6.jpg",
          "name":"Acropolis",
          "date":"2021-11-02",
          "description":"One of the most important museums in the world, houses the findings of only one archaeological site, the Athenian Acropolis.",
          "category":"Museum",
          "place":"Athens",
          "capacity":"1600",
          "assistance":"1540",
          "price":8500,
          "__v":0
      },
      {
          "_id":"628d7ec6c2126f956d8fe9ae",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Salidaalmuseo7.jpg",
          "name":"British Museum",
          "date":"2022-09-02",
          "description":"Culture and history combined in this unique space.",
          "category":"Museum",
          "place":"England",
          "capacity":"1200",
          "estimate":"1140",
          "price":6500,
          "__v":0
      },
      {
          "_id":"628d7f40c2126f956d8fe9b0",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Cine5.jpg",
          "name":"Aladdin",
          "date":"2021-3-11",
          "description":"We invite you watch Disney's classic character in new adventures.",
          "category":"Cinema",
          "place":"Room D2",
          "capacity":"10000",
          "assistance":"8300",
          "price":125,
          "__v":0
      },
      {
          "_id":"628d7f6cc2126f956d8fe9b2",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Cine6.jpg",
          "name":"X-men",
          "date":"2022-3-11",
          "description":"New characters, new adventures and a world in which they are not welcomed.",
          "category":"Cinema",
          "place":"Room D2",
          "capacity":"10000",
          "estimate":"10000",
          "price":200,
          "__v":0
      }
      ,{
          "_id":"628d7f88c2126f956d8fe9b4",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Feriadecomidas1.jpg",
          "name":"Arabic holidays",
          "date":"2021-10-12",
          "description":"An invitation to enjoy Middle East's flavours.",
          "category":"Food Fair",
          "place":"Room A",
          "capacity":"45000",
          "assistance":"42756",
          "price":10,
          "__v":0
      },
      {
          "_id":"628d7fe5c2126f956d8fe9b6",
          "image":"https://amazingeventsapi.herokuapp.com/api/img/Maraton2.jpg",
          "name":"15K Buenos Aires",
          "date":"2021-03-01",
          "description":"Join us for a healthier life and a cleaner city.",
          "category":"Race",
          "place":"Buenos Aires",
          "capacity":"300000",
          "assistance":"256980",
          "price":2,
          "__v":0
      }
    ]
}


//########################################################################################################################################################################


const eventos = data.events;

let arrayCompleto = [...eventos];
// console.log("Todos los eventos",arrayCompleto)
// console.log(data.eventos[2].capacity);

const pastEvents = [];
const upcomingEvents = [];
  
const currentDate = data.currentDate; // 2022-01-01
const currentDateSplit = currentDate.split("-"); // ['2022', '01', '01']
const currentDateTimestamp = new Date (currentDateSplit[0], currentDateSplit[1]-1, currentDateSplit[2]).getTime();
  
eventos.map((event) => {
      const dateToCompare = event.date;
      const dateToCompareSplit = dateToCompare.split("-");
      const dateToCompareTimestamp = new Date (dateToCompareSplit[0], dateToCompareSplit[1]-1, dateToCompareSplit[2]).getTime();
  
      if (dateToCompareTimestamp <= currentDateTimestamp) {
          pastEvents.push(event);
        } else {
          upcomingEvents.push(event);
        }
})



//ORDENADOS SEGÚN SU CAPACIDAD
const resultadosOrdenados = arrayCompleto.sort((a,b) =>
     a.capacity - b.capacity
);

console.log("EVENTOS ORDENADOS DE MENOR A MAYOR POR CAPACIDAD",resultadosOrdenados)

const diezpercentage = resultadosOrdenados.length - Math.round(resultadosOrdenados.length * 0.1)

// ARRAY DEL 10% DE LOS EVENTOS CON MAYOR CAPACIDAD
let arrayMayCap = resultadosOrdenados.slice(resultadosOrdenados.length - Math.round(resultadosOrdenados.length * 0.1), resultadosOrdenados.length);

console.log("\n\n10% EVENTOS CON MAYOR CAPACIDAD",arrayMayCap)

// ARRAY CON MAYOR CAPACIDAD
// const endEvents = arrayMayCap.slice(arrayMayCap.length - 1)

// console.log(endEvents)

//########################################################################################################################################################################


      
console.log("Past Events", pastEvents)
console.log("Upcoming Events", upcomingEvents)


// EVENTOS ORDENADOS DE MENOR A MAYOR POR ASISTENCIA

const porcentajesPast = [];

pastEvents.forEach((event)=>{
  let percentageForAssistance = Math.round((event.assistance * 100) / event.capacity);

  porcentajesPast.push(percentageForAssistance);
})

console.log("\n\nPORCENTAJES DE ASISTENCIA DE LOS EVENTOS PASADOS",porcentajesPast)

const resultsAssistance = porcentajesPast.sort((a,b) =>
  a - b
);

console.log("\n\nEVENTOS PASADOS ORDENADOS DE MENOR A MAYOR POR PORCENTAJE EN ASISTENCIA",resultsAssistance)

// 10% EVENTOS CON MENOR ASISTENCIAS
const eventsMen10Percent = resultsAssistance.slice(0, arrayCompleto.length * 0.1)

// 10% DE EVENTOS CON MAYOR ASISTENCIAS
const eventsMay10Percent = resultsAssistance.reverse().slice(0, arrayCompleto.length * 0.1)

console.log("\n\n10% EVENTOS CON MENOR ASISTENCIAS", eventsMen10Percent);
console.log("\n\n10% DE EVENTOS CON MAYOR ASISTENCIAS", eventsMay10Percent);


//########################################################################################################################################################################

// RENDERIZAR POR CADA ELEMENTO DEL ARRAY 


// const statisticsEvents = document.getElementById("eventsStatistics")

// const renderEventsStatisticsCapacity = () =>{
//     for (let i = 0; i < arrayMayCap.length; i++){
//         const td = document.createElement("td")
//         td.innerHTML = arrayMayCap[i].capacity
//         statisticsEvents.appendChild(td);
//     }

// }

// renderEventsStatisticsCapacity()



//########################################################################################################################################################################

//1-Separar por categoria los eventos en array más chicos (En Upcoming)

let arrayCategoryUpcoming = [];


upcomingEvents.forEach((event) =>{
    let categoryEvents = event.category;
    arrayCategoryUpcoming.push(categoryEvents);
    arrayCategoryUpcoming = arrayCategoryUpcoming.filter((category, index) =>{
         return arrayCategoryUpcoming.indexOf(category) === index;
            })
});


console.log("\n\nARRAY DE TODAS LAS CATEGORIAS EN UPCOMING",arrayCategoryUpcoming)

let museumCategoryUpcoming = [];
let bookCategoryUpcoming = [];
let musicCategoryUpcoming = [];
let cinemaCategoryUpcoming = [];
let costumeCategoryUpcoming = [];
let raceCategoryUpcoming = [];

const separarForCategoryUpcoming = () => {

    const categoryMuseum = upcomingEvents.filter(upcomingEvents => upcomingEvents.category === "Museum");
    const categoryCostumeParty = upcomingEvents.filter(upcomingEvents => upcomingEvents.category === "Costume Party");
    const categoryMusicConcert = upcomingEvents.filter(upcomingEvents => upcomingEvents.category === "Music Concert");
    const categoryBookExchange = upcomingEvents.filter(upcomingEvents => upcomingEvents.category === "Book Exchange");
    const categoryCinema = upcomingEvents.filter(upcomingEvents => upcomingEvents.category === "Cinema");
    const categoryRace = upcomingEvents.filter(upcomingEvents => upcomingEvents.category === "Race");
    
    museumCategoryUpcoming.push(categoryMuseum);
    costumeCategoryUpcoming.push(categoryCostumeParty);
    musicCategoryUpcoming.push(categoryMusicConcert);
    bookCategoryUpcoming.push(categoryBookExchange);
    cinemaCategoryUpcoming.push(categoryCinema);
    raceCategoryUpcoming.push(categoryRace);
    
}
separarForCategoryUpcoming()


// console.log("\n\nEventos Categoria Museo",museumCategoryUpcoming);
// console.log("Eventos Categoria Costume Party", costumeCategoryUpcoming);
// console.log("Eventos Categoria Music Concert", musicCategoryUpcoming);
// console.log("Eventos Categoria BookExchange", bookCategoryUpcoming);
// console.log("Eventos Categoria Cinema", cinemaCategoryUpcoming);
// console.log("Eventos Categoria Race", raceCategoryUpcoming);



//SUMAR TODAS LAS GANANCIAS DE LOS EVENTOS POR CATEGORIA

const calculateTotalGainsUpcoming = (category) => {
    let allPrice = [];
    category[0].forEach((event) => {
      const estimateAssitance = event.estimate;
      const priceForEvent = event.price;
      const estimateGanancia = estimateAssitance * priceForEvent;
      allPrice.push(estimateGanancia);
    });
    return allPrice.reduce((total, value) => total + value, 0);
  }
  
//   console.log("Ganancia total de Museo", calculateTotalGainsUpcoming(museumCategoryUpcoming), "price");
//   console.log("Ganancia total Costume", calculateTotalGainsUpcoming(costumeCategoryUpcoming), "price");
//   console.log("Ganancia total Music", calculateTotalGainsUpcoming(musicCategoryUpcoming), "price");
//   console.log("Ganancia total Book", calculateTotalGainsUpcoming(bookCategoryUpcoming), "price");
//   console.log("Ganancia total Cinema", calculateTotalGainsUpcoming(cinemaCategoryUpcoming), "price");
//   console.log("Ganancia total Race", calculateTotalGainsUpcoming(raceCategoryUpcoming), "price");



//3- OBTENER PROMEDIO DE ASISTENCIAS POR CATEGORIA UPCOMING

const calculatePromedioUpcoming = (category) => {
    let allPromedio = [];
    category[0].forEach((event) => {
      const estimateUpcoming = event.estimate;
      const estimatePromedio = estimateUpcoming / category.length;
      allPromedio.push(estimatePromedio);
    });
    return allPromedio.reduce((total, value) => total + value, 0);
  }



// ########################################################################################################################################################################


//1-Separar por categoria los eventos en array más chicos (En Past)


let arrayCategoryPast = [];


pastEvents.forEach((event) =>{
    let categoryEvents = event.category;
    arrayCategoryPast.push(categoryEvents);
    arrayCategoryPast = arrayCategoryPast.filter((category, index) =>{
         return arrayCategoryPast.indexOf(category) === index;
            })
});


console.log("\n\nARRAY DE TODAS LAS CATEGORIAS EN PAST",arrayCategoryPast)

let museumCategoryPast = [];
let bookCategoryPast = [];
let foodCategoryPast = [];
let cinemaCategoryPast = [];
let costumeCategoryPast = [];
let raceCategoryPast = [];

const separarForCategoryPast = () => {

    const categoryMuseum = pastEvents.filter(pastEvents => pastEvents.category === "Museum");
    const categoryCostumeParty = pastEvents.filter(pastEvents => pastEvents.category === "Costume Party");
    const categoryFoodFair = pastEvents.filter(pastEvents => pastEvents.category === "Food Fair");
    const categoryBookExchange = pastEvents.filter(pastEvents => pastEvents.category === "Book Exchange");
    const categoryCinema = pastEvents.filter(pastEvents => pastEvents.category === "Cinema");
    const categoryRace = pastEvents.filter(pastEvents => pastEvents.category === "Race");
    
    museumCategoryPast.push(categoryMuseum);
    costumeCategoryPast.push(categoryCostumeParty);
    foodCategoryPast.push(categoryFoodFair);
    bookCategoryPast.push(categoryBookExchange);
    cinemaCategoryPast.push(categoryCinema);
    raceCategoryPast.push(categoryRace);
    
}
separarForCategoryPast()


// console.log("\n\nEventos Categoria Museo",museumCategoryPast);
// console.log("Eventos Categoria Costume Party", costumeCategoryPast);
// console.log("Eventos Categoria Music Concert", foodCategoryPast);
// console.log("Eventos Categoria BookExchange", bookCategoryPast);
// console.log("Eventos Categoria Cinema", cinemaCategoryPast);
// console.log("Eventos Categoria Race", raceCategoryPast);



//SUMAR TODAS LAS GANANCIAS DE LOS EVENTOS POR CATEGORIA

const calculateTotalGainsPast = (category) => {
    let allPrice = [];
    category[0].forEach((event) => {
      const estimateAssitance = event.assistance;
      const priceForEvent = event.price;
      const estimateGanancia = estimateAssitance * priceForEvent;
      allPrice.push(estimateGanancia);
    });
    return allPrice.reduce((total, value) => total + value, 0);
  }
  
//   console.log("Ganancia total de Museo", calculateTotalGainsPast(museumCategoryPast), "price");
//   console.log("Ganancia total Costume", calculateTotalGainsPast(costumeCategoryPast), "price");
//   console.log("Ganancia total Music", calculateTotalGainsPast(foodCategoryPast), "price");
//   console.log("Ganancia total Book", calculateTotalGainsPast(bookCategoryPast), "price");
//   console.log("Ganancia total Cinema", calculateTotalGainsPast(cinemaCategoryPast), "price");
//   console.log("Ganancia total Race", calculateTotalGainsPast(raceCategoryPast), "price");
  


//3- OBTENER PROMEDIO DE ASISTENCIAS POR CATEGORIA UPCOMING

const calculatePromedioPast = (category) => {
    let allPromedio = [];
    category[0].forEach((event) => {
      const assitanceUpcoming = event.assistance;
      const assitancePromedio = assitanceUpcoming / category.length;
      allPromedio.push(assitancePromedio);
    });
    return allPromedio.reduce((total, value) => total + value, 0);
  }


// events.estimate / upcomingEvents.length





// ########################################################################################################################################################################
// ORDENAR PASADOS Y FUTUROS ECVENTOS FUNCIONA PERO POR BUENAS PRACTICAS LO HAGO CON LAS FECHAS

// const pastEvents = [];
// const upcomingEvents = [];


// const pastAndUpcoming = () =>{
//   let key = "assistance";
//   for(let i = 0; i < eventos.length; i++){
//     if(key in eventos[i]){
//       pastEvents.push(eventos[i])
//     } else {
//       upcomingEvents.push(eventos[i])
//     }
//   };
// };
// pastAndUpcoming()
//########################################################################################################################################################################

//RENDERIZAR TABLA ONE STATICTICS

const tableOne = document.getElementById("tableOne")

const renderTableOne = () => {
  // Creo la tabla
  tableOne.innerHTML = `
    <thead>
      <tr>
        <th colspan="3" class="colorDeFondo__tabla">Events statistics</th>
      </tr>
    </thead>
    <tbody id="eventsStatistics">
      <tr>
        <td>Events width the highest percentage of attendance</td>
        <td>Events with the lowest percentage of attendance</td>
        <td>Event with larger capacity</td>
      </tr>
    </tbody>`;

  // Obtengo el elemento tbody
  const tbody = tableOne.querySelector("#eventsStatistics");

  // Itero sobre cada uno de los arrays
  for (let i = 0; i < eventsMay10Percent.length; i++) {
    // Creo una fila para cada elemento del array
    const tr = document.createElement("tr");

    // Agrego los valores a la fila
    tr.innerHTML = `
      <td>${eventsMay10Percent[i]}%</td>
      <td>${eventsMen10Percent[i]}%</td>
      <td>${arrayMayCap[i].capacity}</td>
    `;

    // Agrego la fila a la tabla
    tbody.appendChild(tr);
  }
}

renderTableOne();



//RENDERIZACION TABLE TWO UPCOMING

const tableTwo = document.getElementById("tableTwo");

const renderTableTwo = () => {
    tableTwo.innerHTML =
    `<thead>
        <tr>
            <th colspan="3" class="colorDeFondo__tabla">Upcoming events statistics by category</th>
        </tr>
    </thead>
    <tbody id="eventsUpcoming">
        <tr>
            <td>Categories</td>
            <td>Revenues</td>
            <td>Percentage of attendance</td>
        </tr>
        <tr>
            <td>${arrayCategoryUpcoming[0]}</td>
            <td>$${calculateTotalGainsUpcoming(costumeCategoryUpcoming)}</td>
            <td>${calculatePromedioUpcoming(costumeCategoryUpcoming)}%</td>
        </tr>
        <tr>
            <td>${arrayCategoryUpcoming[1]}</td>
            <td>$${calculateTotalGainsUpcoming(musicCategoryUpcoming)}</td>
            <td>${calculatePromedioUpcoming(musicCategoryUpcoming)}%</td>
        </tr>
        <tr>
            <td>${arrayCategoryUpcoming[2]}</td>
            <td>$${calculateTotalGainsUpcoming(bookCategoryUpcoming)}</td>
            <td>${calculatePromedioUpcoming(bookCategoryUpcoming)}%</td>
        </tr>
        <tr>
            <td>${arrayCategoryUpcoming[3]}</td>
            <td>$${calculateTotalGainsUpcoming(cinemaCategoryUpcoming)}</td>
            <td>${calculatePromedioUpcoming(cinemaCategoryUpcoming)}%</td>
        </tr>
        <tr>
            <td>${arrayCategoryUpcoming[4]}</td>
            <td>$${calculateTotalGainsUpcoming(raceCategoryUpcoming)}</td>
            <td>${calculatePromedioUpcoming(raceCategoryUpcoming)}%</td>
        </tr>
        <tr>
            <td>${arrayCategoryUpcoming[5]}</td>
            <td>$${calculateTotalGainsUpcoming(museumCategoryUpcoming)}</td>
            <td>${calculatePromedioUpcoming(museumCategoryUpcoming)}%</td>
        </tr>
    </tbody>`
}
renderTableTwo()


// const tableTwo = document.getElementById("tableTwo");

// const renderTableTwo = () => {
//   let content = `<thead>
//                     <tr>
//                         <th colspan="3" class="colorDeFondo__tabla">Upcoming events statistics by category</th>
//                     </tr>
//                     </thead>
//                     <tbody id="eventsUpcoming">
//                         <tr>
//                             <td>Categories</td>
//                             <td>Revenues</td>
//                             <td>Percentage of attendance</td>
//                         </tr>
//                     </tbody>`;
//   for (let i = 0; i < arrayCategoryUpcoming.length; i++) {
//     content += `<tr>
//                     <td>${arrayCategoryUpcoming[i]}</td>
//                     <td>$${calculateTotalGainsUpcoming(arrayCategoryUpcoming[i])}</td>
//                     <td>${calculatePromedioUpcoming(arrayCategoryUpcoming[i])}%</td>
//                 </tr>`;
//   }
//   content += '</tbody>';
//   tableTwo.innerHTML = content;
// }
// renderTableTwo();



//RENDERIZAR TABLE THREE PAST

const tableThree = document.getElementById("tableThree");


const renderTableThree = () =>{
    tableThree.innerHTML = `
        <thead>
              <tr>
                <th colspan="3" class="colorDeFondo__tabla">Past events statistics by category</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Categories</td>
                <td>Revenues</td>
                <td>Percentage of attendance</td>
              </tr>
              <tr>
                <td>${arrayCategoryPast[0]}</td>
                <td>$${calculateTotalGainsPast(foodCategoryPast)}</td>
                <td>${calculatePromedioPast(foodCategoryPast)}%</td>
              </tr>
              <tr>
                <td>${arrayCategoryPast[1]}</td>
                <td>$${calculateTotalGainsPast(museumCategoryPast)}</td>
                <td>${calculatePromedioPast(museumCategoryPast)}%</td>
              </tr>
              <tr>
                <td>${arrayCategoryPast[2]}</td>
                <td>$${calculateTotalGainsPast(raceCategoryPast)}</td>
                <td>${calculatePromedioPast(raceCategoryPast)}%</td>
              </tr>
              <tr>
                <td>${arrayCategoryPast[3]}</td>
                <td>$${calculateTotalGainsPast(cinemaCategoryPast)}</td>
                <td>${calculatePromedioPast(cinemaCategoryPast)}%</td>
              </tr>
              <tr>
                <td>${arrayCategoryPast[4]}</td>
                <td>$${calculateTotalGainsPast(bookCategoryPast)}</td>
                <td>${calculatePromedioPast(bookCategoryPast)}%</td>
              </tr>
              <tr>
                <td>${arrayCategoryPast[5]}</td>
                <td>$${calculateTotalGainsPast(costumeCategoryPast)}</td>
                <td>${calculatePromedioPast(costumeCategoryPast)}%</td>
              </tr>
        </tbody>
    `
}
renderTableThree()
